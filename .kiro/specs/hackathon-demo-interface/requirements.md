# Requirements Document

## Introduction

金沢文化施設エージェントの動作確認用デモ画面を作成します。このシステムは、S3に静的HTMLファイルをホストし、利用者が直感的にエージェントの機能を体験できる環境を提供します。エージェントの実際の動作を確認し、その価値を理解できるよう設計されています。

## Requirements

### Requirement 1

**User Story:** 利用者として、複雑な設定なしにWebブラウザから直接エージェントを試したい。そうすることで、エージェントの機能と価値を迅速に評価できる。

#### Acceptance Criteria

1. WHEN 利用者がデモページにアクセスした時 THEN システムは設定不要で即座に利用可能な状態で表示される
2. WHEN 利用者が施設名や日付を入力した時 THEN システムはリアルタイムでエージェントを呼び出し結果を表示する
3. WHEN エージェントが応答した時 THEN システムは結果を見やすい形式で表示する
4. IF ネットワークエラーが発生した場合 THEN システムは適切なエラーメッセージを表示する

### Requirement 2

**User Story:** 利用者として、エージェントがどのような質問に答えられるかを理解したい。そうすることで、エージェントの能力範囲を把握できる。

#### Acceptance Criteria

1. WHEN 利用者がデモページを開いた時 THEN システムは使用例とサンプル質問を表示する
2. WHEN 利用者がサンプル質問をクリックした時 THEN システムは自動的にその質問を実行する
3. WHEN システムが質問例を表示する時 THEN 日本語と英語の両方の例を含む
4. WHEN 利用者が質問を入力する時 THEN システムは入力補助やヒントを提供する

### Requirement 3

**User Story:** 利用者として、エージェントの応答プロセスを可視化したい。そうすることで、エージェントがどのように動作しているかを理解できる。

#### Acceptance Criteria

1. WHEN エージェントが処理を開始した時 THEN システムは「処理中」のローディング表示を行う
2. WHEN エージェントの応答を待機している時 THEN システムは適切なローディングアニメーションを表示する
3. WHEN 処理に時間がかかる時 THEN システムは「施設情報を取得しています...」などの説明メッセージを表示する
4. WHEN 処理が完了した時 THEN システムは応答時間を表示する

### Requirement 4

**User Story:** システム管理者として、既存の完全なAgentCore実装を活用したい。そうすることで、18施設対応とメモリ機能を含む高度な機能をデモで提供できる。

#### Acceptance Criteria

1. WHEN Lambda関数がクエリを受信した時 THEN システムは既存のagent.pyのinvoke_proper関数を呼び出す
2. WHEN agent.pyが呼び出された時 THEN システムは18施設の文化の森お出かけパス対応施設の完全な実装を使用する
3. WHEN AgentCoreメモリ機能が有効な時 THEN システムはBEDROCK_AGENTCORE_MEMORY_ID環境変数に基づいてメモリ機能を使用する
4. IF agent.pyの呼び出しに失敗した場合 THEN システムは既存のBedrock直接呼び出しにフォールバックする



